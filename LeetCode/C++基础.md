# C++ 基础


[](https://blog.csdn.net/qq_42322103/article/details/99685797)
什么是容器？一种数据结构模板
    为的就是复用性的提升，复用性必须建立在某种标准之上。
    ！大量程序员被迫从事大量重复的工作，竟然是为了完成前人已经完成而自己手上并未拥有的程序代码，这不仅是人力资源的浪费，也是挫折与痛苦的来源。
    为了建立数据结构和算法的一套标准，并且降低他们之间的耦合关系，以提升各自的独立性、弹性、交互操作性(相互合作性,interoperability),诞生了STL。

    容器：各种数据结构，如vector、list、deque、set、map等,用来存放数据，从实现角度来看，STL容器是一种class template。常用的数据结构：数组(array) , 链表(list), tree(树)，栈(stack), 队列(queue), 集合(set),映射表(map), 根据数据在容器中的排列特性，这些数据分为序列式容器和关联式容器两种。

    STL 的一个重要特性是将数据和操作分离。数据由容器类别加以管理，操作则由可定制的算法定义。迭代器在两者之间充当“粘合剂”,以使算法可以和容器交互运作

    STL 具有高可重用性，高性能，高移植性，跨平台的优点。

    算法分为:质变算法和非质变算法。

## set容器基本概念
Set的特性是。所有元素都会根据元素的键值自动被排序。Set的元素不像map那样可以同时拥有实值和键值，set的元素即是键值又是实值。Set不允许两个元素有相同的键值。

我们不可以通过set的迭代器改变set元素的值，因为set元素值就是其键值，关系到set元素的排序规则。如果任意改变set元素值，会严重破坏set组织。换句话说，set的iterator是一种const_iterator.

multiset容器基本概念
multiset特性及用法和set完全相同，唯一的差别在于它允许键值重复。set和multiset的底层实现是红黑树.   
————————————————

                            版权声明：本文为博主原创文章，遵循 CC 4.0 BY-SA 版权协议，转载请附上原文出处链接和本声明。
                    
原文链接：https://blog.csdn.net/qq_42322103/article/details/99685797

## set 常用函数实例解析
（1）insert()

insert(x) 可将 x 插入 set 容器中，并自动递增排序和去重，时间复杂度为 O（logN），其中 N 为 set 内的元素个数。

（2）find()

find(value) 返回 set 中对应值为 value 的迭代器，时间复杂度为 O（logN），其中 N 为 set 内的元素个数。
（3）erase()

1. 删除单个元素。

删除单个元素有两种方法：

（1）st.erase(it)  ，即删除迭代器为 it 处的元素，时间复杂度为 O（1）。
（2）st.erase(value)  ，value 为所需要删除元素的值。时间复杂度为 O（logN），N 为 set 内的元素个数

2. 删除一个区间内的所有元素。

erase(first,last) 即删除 [first,last) 内的所有元素。其中 first 为所需要删除区间的起始迭代器，而 last 则为所需要删除区间的末尾迭代器的下一个地址。时间复杂度为 O（last-first）。
（4）size()

size() 用来获得 set 中元素的个数，时间复杂度为 O（1）。size()返回的是 unsigned 类型，不过一般来说用 %d 不会出很大问题，这一点对所有 STL 容器都是一样的。

（5）clear()

clear() 用来清空 set 中的所有元素，时间复杂度为 O（N），其中 N 为 set 中元素的个数。
————————————————

                            版权声明：本文为博主原创文章，遵循 CC 4.0 BY-SA 版权协议，转载请附上原文出处链接和本声明。
                        
原文链接：https://blog.csdn.net/qq_42185999/article/details/107031098

unordered_set：
https://blog.csdn.net/LiuXF93/article/details/120899401?

直接查用的命令！


作者：听心跳的声音
链接：https://www.zhihu.com/question/374663834/answer/1257751860
来源：知乎
著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。

先说结论: 在嵌入式Linux领域占据应用层的半壁江山(QT/C++怎么说也是嵌入式平台的主流界面方案之一), 在单片机领域，比python，js，rust这些语言占比多点，但也属于当中的其它，没有可比性。单片机的主流编译语言可预见的长期仍然是C和少量汇编的结合体，而嵌入式Linux领域的未来在我看来更倾向于多语言范式的混合应用编程，内核模块使用C，应用层逻辑使用C++, Python, nodejs的混合编程，而界面的话使用java和QT/C++，下面说原因。在单片机领域C++不太流行既有历史原因，也有工业界的需求，对于单片机是从51发展到现在，主流的flash容量仍然在64KB~256KB左右，目前的容量限制注定了C++中的模板，泛型编程和STL等很难被运用到开发中，但如果不使用这些，只使用支持class的C++，在C语言是有结构体+函数指针可以替代的情况下，从C换成C++并没有迫切的需求，而python和js的推广困难，也有着类似的理由，此外在加上调试困难。不过对于rust，这个理由是不存在的，但是因为历史的惯性，目前行业内无论大小公司，都大量的遗留和正在做的都是C语言项目(包含原厂的方案)，替换成rust就是商业成本问题，而不是语言问题(在我看来rust语言层面优于C太多), 所以rust热爱者们应该是多去为各主流厂商平台提供开源项目(具体项目，不是移植跑个hello world就完事了, 能跑和能用在产品中是两个概念)，而不是呼吁语法层面多优秀。另外单片机优势不仅仅是实时可控，而是价格便宜，对于出货量十万甚至上百万的设备，flash容量也是可观的成本，所以工业界更希望是用最小的成本做最多的事，从这方面来说，C是比C++，python， js有明显优势的。在嵌入式Linux领域, C++绝对是应用层主力之一，QT/C++虽然目前因为芯片性能的提升，逐渐被Android/Java所替代，但仍然在医疗，工控，车载导航等领域占据主流地位，而且这也是目前C++的重要应用领域之一，说嵌入式比较难，而C++也十分困难，所以嵌入式人员学习C++比较少是十分片面客观的印象，另外C++难的地方是移动语义，模板偏特化，lambda,  模板元编程等知识，C++各种语法组合成的奇淫巧技如果不花大量时间去钻研，看起来是犹如天书(很少有人例外)，但对于工业界，特别是嵌入式类应用来说，只使用STL封装的vector，map以及算法等方便开发，封装些模板函数或者类帮助复用，很多时候C++11的新特性都用不全，说困难就有点夸大其词了。工业界的难点永远是如何把产品的需求转换成具体的任务分解(满足性能，成本和功能的平衡，同时能够长期稳定性)，而不是使用何种语言来实现任务，当需求导向任意语言，无论是python，js，C++还是java，面向工资编程，只要有需求，总会有人会踏入这个方向，难度不是问题，需求和薪水才是问题。


CodeAllen嵌入式​：

我之前做无人机的时候用的是c++，完全被动，因为APM开源的code就是c++写的，上手这种已经有框架的代码基本没什么难度，不过还是顺便重学了下c++

1.嵌入式里编译器都是被优化过的，基本都是阉割版，对c++也不例外，你说的操作内存部分多半还是会用C语言做，**c++大多用在应用层**，编辑环境是eclipse还是很好用的，c++在单片机纯逻辑编程里边其实和C语言没有太大差别，当然也是因为很多牛逼的特性没有上的原因

2.原则上就是学个class就可以搞了，不过这样写出来的代码基本就是C语言模式了，想深入c++的精华还是要按着类，对象，重载，继承，多态，模板和STL库的顺序深入了解下，不过这个过程应该比较痛苦，这时候c++已经和C语言没有关系了

========对象C++面试补充========

虽然c++天天被吐槽，但是要是会了c++嘛，真香。。。

今年我对象研究生毕业开始准备春招秋招，我因为平时也不太忙就开始跟她一起准备，因为我们本科的时候是电子信息工程，方向偏硬一些，她呢也就是会点C语言的底子，但是我自己做C语言，深知C语言行业的局限性，还是推荐她像更高级的语言进阶下，然后就鬼使神差的选了C++

然后就开始一起准备，首先找了个黑马的视频，跳过C语言把C++基础和进阶看了下，书籍资料使用的c++ primer，这部分完成之后一起把数据结构用c++过了一遍（把常见的数据结构用c++代码实现了下）

然后就是开始刷LeetCode，看面试贴（包括计算机基础知识，编程知识，算法题，Linux相关一大堆），方向的话选的后端

这一准备就是半年时间，我不知道她怎么样，反正我是累哭了（白天工作，晚上学习）

最后结果还比较好，拿了几个大厂offer，方向到底还是c++，不过是手机的系统稳定性，不算后端（后期一度想劝她转Java，c++真的好难啊，我们十月一的时候8天没出去，从早到晚刷了一遍Java。。。）

总结下，C++真的很难，但是因为难也有门槛，在嵌入式领域应用主要是系统中上层，底层是C语言为主

作者：邦彦
链接：https://www.zhihu.com/question/374663834/answer/1309793850
来源：知乎
著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。

看你的题目详细描述，确实不需要C++。因为C++和C完全是两个语言，编程思维上有很大的不同。如果抛开你的详细描述，只回答这个题目。那么答案又不一样了。嵌入式是一个非常庞大的概念，往简单里说，只要有专用性的计算机系统都可以称为嵌入式。只不过嵌入式可以根据计算规模来定制硬件系统。假设你只需要采集一个室内温度，那么给你一个51单片机都完全足够。如果情况再复杂一些，需要多线程实时控制(采集)，那么这时候可能就要跑一个操作系统，比如uCos之类的，这时候一个51单片的资源(计算量)就远远不够了，可能得上一些16位处理器，比如飞思卡尔的一些单片机。如果项目进一步复杂，需要的计算量更大，此时可能就需要多核ARM处理器，大内存，linux操作系统才能够完成计算、控制任务。有了上述的铺垫，此时就可以来讲讲语言的选择。如果是51内核的单片机，一般工程复杂度都很小，基本上给一个稍微有点经验的工程师就能独自完全hold住了，此时在选择语言上，用C，用汇编都无所谓，老一辈工程师几乎都是用汇编来写单片机。**但是，如果项目的复杂度非常的大，大到可能有上百号人来协作，此时用C语言开发就会有很大的弊端，最主要的体现就在于数据的封装性。**这里假设一个情况，如果有两个项目组的人同时参与到一个大项目中，A组负责A模块开发，B组负责B模块开发，A、B两个模块通过一个结构体来传输数据，A传给B的数据只能读，不能写，就这一条约束，在C语言下很难保证，只能通过项目文档来约定或者约束，并且这种约束不能保证强制执行。如果某个新员工没注意看约束文档，把A模块传过来的数据给改了，以便于实现某个特性，老员工在代码review中又没有引起注意，**这样埋藏的bug可能会非常的深，直到某天这个bug爆发了，可能需要大规模的重写非常多的代码，造成难以预料的后果。****但是在C++这样的语言中，使用一个private关键字就能解决上述问题**。当然，C++的威力并不是仅仅这一点，面向对象在代码重用和代码抽象上更适合大型项目，这个威力需要有大型项目经验才能体会到。说完语言上的天然差异后，再讲下两个语言的标准库。在大型项目开发中，非常需要使用一个叫做动态数组的东西，C语言里面没有这个东西，要想写出一个好用且安全的动态数组库非常困难，并且，无论你怎么去实现，都是对C++中vector拙劣的模仿。基于这类情况，我为什么不直接去使用C++呢？最后，可能会有人反驳我，linux内核的大部分代码都是用C语言写的，这同样是一个复杂度非常大的项目，别人运行得很好啊。我在读本科的时候也是这样想的，认为C语言天下无敌，一招鲜吃遍天。实际工作中并不是这样，**因为程序员的水平、熟练度是有非常大的差距的。一个刚从培训班毕业的学生能参与到linux内核开发这样的项目中吗？肯定是不能的。实际上大部分程序员整个职业生涯中都没有机会参与到百万级代码规模的项目中。很多程序员的技能只能支撑非常简单的模块开发和小规模的项目中，对于这些技能不足的新手，非常需要“限制”他们搞破坏的能力，然而像C这样面向过程的语言，是不具备这样的限制能力。**C++虽然不能完美解决这个问题，但是至少给新手“兜了个底”。不过，你可能会觉得，我把团队中的新手给剔除不就行了，理想很丰满，现实很骨感，你不可能在人才市场上同时招到一百个“雷军”的。必然会有大量的“培训班”选手到你的团队中。

作者：阿布编程
链接：https://www.zhihu.com/question/374663834/answer/1503404657
来源：知乎
著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。

先说结论：1. 嵌入式、单片机里面C++非常好使；2. C with class用来作大部分开发是完全可以胜任，如果用的好，能明显改善你的代码质量（嵌入式领域，个人不鼓励STL和模板，这个后面再说）。  只有5千行代码的GuiLite是嵌入式、单片机中常用的GUI框架；它就是C++编写，在GitHub有4.8K star，在Gitee有2K star。可能你觉得5千行能做什么？它不仅可以作常规的界面元素，还能在单片机平台上进行3D操作、可以与网页结合，把界面效果用网页的形势表现出来，当然也支持VR特效、最近还与FFmpeg集成，可以无依赖的支持视频播放。多说无益，有图为证
这里不是说GuiLite多强，而是想说明C++语言的魅力，如果没有使用C++语言，而用C的的话，至少需要几万行才能实现相同的效果；还记得著名的爱因斯坦bug方程吗？代码多一点点，bug数量就会显著增加。其实GuiLite就是典型的C with Class；相信很多同学觉得这很低级，**但这正是C++语言发明的初心。这种特性让你完全告别的了函数指针**；当然很多C的高手，就是用函数指针实现了C++的所有特性。首先为高手点赞，但作为普通韭菜的我们要明白它的代价就是一大堆函数指针；**只要函数指针的大量存在，代码的可读性就大大降低**，而C with Class就能用最优雅的方式消灭所有的函数指针，虽然你觉得它很low，但它就能让你的代码量大大缩小；而且它对编译器的支持极好，任何单片机编译器都能支持这种简单的C++特性。如果你还读过Linux的虚拟文件系统代码，请问是什么反复打断你领会代码含义？答案是函数指针，为了实现对多文件系统的支持，Linus可是在拼命的往代码里面使用函数指针。而如果选择用继承，虚函数来实现，其代码就可以大大简化。这就是用C实现派生，虚函数扩展的代价；你可能会说：Linus这种方式效率高呀！答案是：不存在；无论你如何在C语言层次做优化，都没发跟编译器层次的优化相提并论。作为开发者，编程思想远远比语法糖重要的多。C with Class是编程思想的进步，虽然在语法难度上面它不值一提。记住，我这里说的是编程思想，即使这么简单地语法，现在还是被滥用了，**完全不考虑实际需要，上来就是一个class，完全不顾及class发明者的初衷。class需要你在高level重整代码结构**，但你却用它污染每一个细节，每一行代码。还是那句话，用的好，5千行就能解决很多问题；用的不好，还不如不用，还是用你最擅长的语言去污染你的代码吧，这样污染的更有效率，对吧？  最后，STL，模板适合嵌入式吗？个人觉得不大适合，**首先这是对编译器的极大挑战，windows，linux平台不是问题，但在单片机环境可能存在兼容性的问题**；另外，**模板，STL对调试非常不友好，不太适合运行成本（步骤）相对复杂的嵌入式、单片机开发环境**。STL，模板的发明初衷也不是为嵌入式，单片机准备的；所以，强行使用，会给你带来很多麻烦。STL，模板的最佳使用环境是大型“游戏”。这套东西是典型用空间换时间的产物，很多牛逼的游戏所需的cpu，内存资源极少，就是他们的功劳，但代价是你的代码会比较庞大，没有1T的硬盘，就不要玩游戏了吧~~~STL，模板为什么能在游戏行业里面如鱼得水呢？首先，运行效率很高，这里不再赘述；其次，则是游戏的重复性太高，大家回忆一下，DOTA，英雄联盟，王者荣耀在玩法上面是不是很相近呢？正是因为相似性太高，代码重用就显得非常必要，否则游戏工业化的效率就很低，现在之所以半年就能出一款大型游戏，我说这是STL、模板的功劳，你信吗？我说是游戏引擎的功劳，你信吗？我说游戏引擎跟STL、模板是你中有我，我中有你，你信吗？  **总结一下，C++编程思想对嵌入式开发者很有帮助，直接效果就是能大幅度降低你的代码量和逻辑复杂度；STL，模板原则不适合大部分嵌入式使用环境**，因为嵌入式软件的特殊性往往超过通用性，代码复用的需求不强，但只要你知道它们是为什么而生的，就会为它们选择合适的使用环境。更多有趣、深度的C/C++知识，也可以参考阿布编写的，并被各位微软大佬联合推荐的书籍《CPU眼里的C/C++》




## 《C++》
* 其理念是设计与问题本质特征相对应的数据格式
* 类是一种规范，描述新型数据格式，比如描述公司管理人员的特征，对象代表特定的管理人员
* 类规定需要哪些数据表示对象，和对对象的数据进行哪些操作
* OOP设计，首先设计类
* 好处：
  * 创建可重用代码，减少重复————继承
  * 保护数据————私有
  * 多态给运算符和函数多个定义，按语境选择所使用的定义
  * 继承：旧类派生出新类
* 优点之一：可重用和修改现有的、经过仔细检查的代码
* 泛型编程：可以只写一个功能函数应用于多种类型的数据

* C语言简洁、适合系统开发，使用广泛，且与UNIX系统紧密联系

* 库对常见的编程问题提供了可靠的解决方法！！！

* cin.get() 读取下一次敲击，让程序等待，独立窗口程序

* 名称空间，用来区别不同厂商的同名产品，using namespace std;引入后不用使用前缀std::

* C声明一般在函数或者过程开始之前，C++声明一般在首次使用处前，容易找

* C++可以连续使用赋值运算符 = 
* 还可以重新定义 << 可以识别更多类型

* C++ 有两种发消息的方法：1. 类方法 = 函数，2. 重载符号

* 编译找不到函数库里的声明，编译器加上 -l 选项 比如 -lm 添加 math库

* C++的初始化语法：int wrens(432);int wrens{432}; 设置wrens = 432，int wrens{}; 设为0

* 控制符 endl, 进制——dec，hex，oct

* C++新增了bool类型

* C++中可以省略关键字struct

* 在C++中int * 是一种复合类型，数字赋值给指针是想要强制转换

* int * pn = new int; 找一个适合int类型存储的位置，返回给pn

* 浪费时间，《C++》这本书里大部分跟C语言很相似，区别之处基本上被淹没了！！！